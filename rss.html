<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>子曰く、</title>
        <link>http://ohtaman.github.com/blog/</link>
        <description>「もえもえきゅん♡」</description>
        <language>en-us</language>
        <pubDate>Sat, 02 Feb 2013 00:00:00 +0900</pubDate>
        
        <item>
            <link>http://ohtaman.github.com/blog/2013/02/02/computer_science.html</link>
            <guid>http://ohtaman.github.com/blog/2013/02/02/computer_science.html</guid>
            <title>computer_science</title>
            <description><![CDATA[<div class="section" id="computer-science">
<h1>computer_science</h1>
</div>]]></description>
             <pubDate>Sat, 02 Feb 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://ohtaman.github.com/blog/2013/01/12/multi.html</link>
            <guid>http://ohtaman.github.com/blog/2013/01/12/multi.html</guid>
            <title>UNIXコマンドを並列化する</title>
            <description><![CDATA[<div class="section" id="unix">
<h1>UNIXコマンドを並列化する</h1>
<p>もう一年近く前、会社の方が “UNIXのテキスト処理関連のツールをマルチスレッド対応してほしい” とつぶやいていました。</p>
<p>「マルチスレッドは面倒くさいけど、マルチプロセスなら簡単だよ!」ってことで、プチフレームワークを書いたのが去年の5月。</p>
<p>それを最近になって思い出して、 <a class="reference external" href="https://github.com/ohtaman/multi">github</a> にあげたので紹介します。</p>
<div class="section" id="id1">
<h2>何をするもの?</h2>
<p>テキスト処理をしていると、簡単なクレンジング処理などで
行単位で並列化出来るような処理がたくさんあります。
multi は標準入力を1行毎に区切って複数のプロセスに渡すことでテキスト処理の高速化を図るツールです。
テキストを分割したりプロセス管理したりするので、重い処理をしない場合は遅くなることがあります。</p>
</div>
<div class="section" id="id2">
<h2>サンプル</h2>
<p>以下のコードでは行毎に hoge.txt を10個の mecab にかけています。</p>
<div class="highlight-bash"><div class="highlight"><pre>cat hoge.txt | multi -m <span class="s2">&quot;mecab&quot;</span> -n 10
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>オプション</h2>
<p>指定できるオプションは以下のとおり。</p>
<div class="highlight-python"><pre>usage: multi [OPTIONS]
-c   combiner command
-h   show this message
-m   mapper command (required)
-n   number of mappers (required)
-s   splitter command
-S   use internal splitter/combiner which preserve the order of the input sequence</pre>
</div>
<p>複数のプロセスからの出力を最後にまとめて出力します。これを combiner と呼び、外部コマンドを利用したい場合には -c オプションを使います。</p>
<div class="highlight-python"><pre>cat hoge.txt | multi -m &quot;sort&quot; -c &quot;sort -m {}&quot;</pre>
</div>
<p>とすると {} の部分が mapper(-m “sort” の部分) の標準出力のリストに置換されます。</p>
<p>行の順序を保ちたい場合には -S オプションを利用します。この場合、 splitter や combiner は指定できません。</p>
</div>
<div class="section" id="id4">
<h2>インストール</h2>
<p>インストール手順は以下のとおりです。</p>
<ol class="arabic simple">
<li>github よりダウンロード</li>
</ol>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>git clone https://github.com/ohtaman/multi.git multi
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>configure &amp; make</li>
</ol>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd </span>multi
./configure
make
sudo make install
</pre></div>
</div>
</div></blockquote>
</div>
</div>]]></description>
            <category><![CDATA[ programming ]]></category>
             <pubDate>Sat, 12 Jan 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://ohtaman.github.com/blog/2013/01/03/new_year.html</link>
            <guid>http://ohtaman.github.com/blog/2013/01/03/new_year.html</guid>
            <title>新年明けましておめでとうございます。</title>
            <description><![CDATA[<div class="section" id="id1">
<h1>新年明けましておめでとうございます。</h1>
<p>昨年は大変お世話になりました。今年もよろしくお願いします。</p>
<div class="line-block">
<div class="line">昨年は、プライベートではオーロラ鑑賞などの貴重な体験をすることができましたし、新しい仲間も増え、なかなか充実した一年でした。</div>
<div class="line">一方仕事面は、なかなか自分の思うように事が進まず、考えも伝わらず、悩んだりイライラしたりすることが多かった気がします。いろいろ考えさせられたという意味では良かったのですが、まぁ、あまりこの感じは引きずりたくないものです。</div>
</div>
<p>さて、今年の目標についていろいろ考えたのですが、結局</p>
<ol class="arabic simple">
<li>仕事のために自分を犠牲にしない</li>
<li>自分の市場価値を知る</li>
<li>金銭感覚を身につける</li>
<li>ダイエットをする</li>
</ol>
<div class="line-block">
<div class="line">の四つにしました。</div>
<div class="line">入社時から「3年間はココで働いて、その時点でココが好きなら残るし、そうじゃなければ残らない」と、色々な人に話していたのですが、この4月でついに入社3年です。その判断をするときに、自分の市場価値を把握しておきたいなぁと。</div>
<div class="line">今の自分はそもそも転職(or自立)できるのか、できるとしたらいくらもらえるか、そして、その金額に見合うだけの価値を本当に提供できるか。「他にいけるかわからないから、今の会社に残る」とかだけは絶対にいやなんですよね。「他にもいろいろ選択肢があるけど、やっぱココだね。」っていう気持ちで残りたい。残るなら。</div>
</div>
<p>あと、体重は7kg落とします。今年の健康診断までに。</p>
</div>]]></description>
            <category><![CDATA[ others ]]></category>
             <pubDate>Thu, 03 Jan 2013 00:00:00 +0900</pubDate>
        </item>
    
        <item>
            <link>http://ohtaman.github.com/blog/2012/12/28/first_post.html</link>
            <guid>http://ohtaman.github.com/blog/2012/12/28/first_post.html</guid>
            <title>引っ越してきました</title>
            <description><![CDATA[<div class="section" id="id1">
<h1>引っ越してきました</h1>
<p>引っ越してきました。
今後ともよろしくお願いします。</p>
</div>]]></description>
            <category><![CDATA[ others ]]></category>
             <pubDate>Fri, 28 Dec 2012 00:00:00 +0900</pubDate>
        </item>
    
    </channel>
</rss>